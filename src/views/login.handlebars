<h1>LOGIN</h1>
<form action='/auth/login' id="loginForm" method='POST'>
  <input type='text' id="email" name='email' placeholder='email' />
  <input type='text' id="password" name='password' placeholder='password' />
  <input type='submit' value='login!' />
</form>
<a href='/api/sessions/github'>Entrar con github</a>
<a href='/auth/register'>aun no tengo cuenta...</a>

<script>
const loginForm= document.getElementById("loginForm");
loginForm.addEventListener("submit",async (event)=>{
  event.preventDefault();
  const emailInput= document.getElementById("email");
  const passwordInput= document.getElementById("password");
  const email= emailInput.value;
  const password= passwordInput.value;
  const credenciales= {email, password};
  const response = await fetch("/auth/login",{
    headers:{"content-type":"application/json"},method:"post",body:JSON.stringify(credenciales)
  })
  if(response.ok){
    window.location.assign("/products")
  }else{
    window.location.assign("/faultredirect")
  }
  })
</script>